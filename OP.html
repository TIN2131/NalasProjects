<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operating Dashboard - Partner Book Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #2c3e50;
            --text-secondary: #7f8c8d;
            --border-color: #e1e8ed;
            --card-shadow: 0 2px 8px rgba(0,0,0,0.08);
            --hover-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-primary);
        }

        .dashboard-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .dashboard-header {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: var(--card-shadow);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .dashboard-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .filter-bar {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .filter-label {
            font-size: 11px;
            text-transform: uppercase;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .filter-select {
            padding: 8px 32px 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-primary);
            font-size: 14px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 20px;
        }

        .filter-select:hover {
            border-color: var(--secondary-color);
        }

        .tabs-container {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 8px;
            margin-bottom: 24px;
            box-shadow: var(--card-shadow);
        }

        .tabs {
            display: flex;
            gap: 4px;
            overflow-x: auto;
        }

        .tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab:hover {
            background: var(--bg-secondary);
        }

        .tab.active {
            background: var(--secondary-color);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .kpi-card {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
        }

        .kpi-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .kpi-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            font-size: 20px;
        }

        .kpi-icon.billings { background: rgba(52, 152, 219, 0.1); color: var(--secondary-color); }
        .kpi-icon.avg { background: rgba(46, 204, 113, 0.1); color: var(--success-color); }
        .kpi-icon.csg { background: rgba(243, 156, 18, 0.1); color: var(--warning-color); }
        .kpi-icon.industry { background: rgba(155, 89, 182, 0.1); color: #9b59b6; }
        .kpi-icon.clients { background: rgba(231, 76, 60, 0.1); color: var(--accent-color); }

        .kpi-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .kpi-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .kpi-subtitle {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .data-section {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: var(--card-shadow);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--bg-secondary);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .section-actions {
            display: flex;
            gap: 8px;
        }

        .btn {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-primary);
            font-size: 13px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: var(--bg-secondary);
            border-color: var(--secondary-color);
        }

        .btn.primary {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .btn.primary:hover {
            background: #2980b9;
        }

        .data-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .data-table th {
            background: var(--bg-secondary);
            padding: 12px;
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--border-color);
        }

        .data-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            font-size: 14px;
        }

        .data-table tbody tr {
            transition: background 0.2s ease;
        }

        .data-table tbody tr:hover {
            background: var(--bg-secondary);
        }

        .expandable-row {
            cursor: pointer;
        }

        .expandable-row td:first-child::before {
            content: '‚ñ∂';
            display: inline-block;
            margin-right: 8px;
            transition: transform 0.3s ease;
            font-size: 10px;
        }

        .expandable-row.expanded td:first-child::before {
            transform: rotate(90deg);
        }

        .sub-row {
            display: none;
            background: var(--bg-secondary);
        }

        .sub-row.show {
            display: table-row;
        }

        .sub-row td {
            padding-left: 40px;
            font-size: 13px;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 24px;
        }

        .chart-container {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--card-shadow);
        }

        .chart-placeholder {
            height: 300px;
            background: var(--bg-secondary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
        }

        .metric-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .metric-badge.positive {
            background: rgba(39, 174, 96, 0.1);
            color: var(--success-color);
        }

        .metric-badge.negative {
            background: rgba(231, 76, 60, 0.1);
            color: var(--accent-color);
        }

        .metric-badge.neutral {
            background: rgba(127, 140, 141, 0.1);
            color: var(--text-secondary);
        }

        .progress-bar {
            height: 6px;
            background: var(--bg-secondary);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 24px;
        }

        .summary-panel {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--card-shadow);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .summary-value {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        @media (max-width: 768px) {
            .dashboard-container {
                padding: 12px;
            }

            .filter-bar {
                width: 100%;
            }

            .tabs {
                overflow-x: scroll;
            }

            .kpi-grid {
                grid-template-columns: 1fr;
            }

            .chart-grid {
                grid-template-columns: 1fr;
            }

            .detail-grid {
                grid-template-columns: 1fr;
            }
        }

        .scroll-container {
            overflow-x: auto;
            margin: -8px;
            padding: 8px;
        }

        .scroll-container::-webkit-scrollbar {
            height: 8px;
        }

        .scroll-container::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 4px;
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        .scroll-container::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header Section -->
        <div class="dashboard-header">
            <div class="header-content">
                <h1 class="dashboard-title">Operating Dashboard</h1>
                <div class="filter-bar">
                    <div class="filter-group">
                        <label class="filter-label">Fiscal Year</label>
                        <select class="filter-select">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Month</label>
                        <select class="filter-select">
                            <option>August</option>
                            <option>July</option>
                            <option>June</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Partner</label>
                        <select class="filter-select">
                            <option>All Partners</option>
                            <option>Amanda Schlank</option>
                            <option>Andrea Link</option>
                            <option>Bill Osborn</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Service</label>
                        <select class="filter-select">
                            <option>All Services</option>
                            <option>Tax</option>
                            <option>Assurance</option>
                            <option>Advisory</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Region</label>
                        <select class="filter-select">
                            <option>All Regions</option>
                            <option>Greater Los Angeles</option>
                            <option>Northern California</option>
                            <option>Pacific Northwest</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('market-overview')">Market Overview</button>
                <button class="tab" onclick="switchTab('job-profitability')">Job Profitability</button>
                <button class="tab" onclick="switchTab('partners-book')">Partners Book</button>
                <button class="tab" onclick="switchTab('utilization')">Utilization & Allocation</button>
                <button class="tab" onclick="switchTab('markdowns')">Markdowns</button>
                <button class="tab" onclick="switchTab('revenue-analysis')">Revenue Analysis</button>
            </div>
        </div>

        <!-- Market Overview Tab -->
        <div id="market-overview" class="tab-content active">
            <!-- KPI Cards -->
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-icon billings">üí∞</div>
                    <div class="kpi-label">Total Billings</div>
                    <div class="kpi-value">$9.76M</div>
                    <div class="kpi-subtitle">YTD Performance</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%;"></div>
                    </div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-icon avg">üìä</div>
                    <div class="kpi-label">Average Billings</div>
                    <div class="kpi-value">$143.56K</div>
                    <div class="kpi-subtitle">Per Client</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%;"></div>
                    </div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-icon csg">üè¢</div>
                    <div class="kpi-label">Top CSG</div>
                    <div class="kpi-value">Closely Held</div>
                    <div class="kpi-subtitle">Businesses</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-icon industry">üè≠</div>
                    <div class="kpi-label">Top Industry</div>
                    <div class="kpi-value">Individual</div>
                    <div class="kpi-subtitle">99 Clients</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-icon clients">üë•</div>
                    <div class="kpi-label">Total Clients</div>
                    <div class="kpi-value">3,000</div>
                    <div class="kpi-subtitle">Active Engagements</div>
                </div>
            </div>

            <!-- Partner Billings by CSG -->
            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">Partner Billings by Client Segment</h2>
                    <div class="section-actions">
                        <button class="btn">Export</button>
                        <button class="btn primary">View Details</button>
                    </div>
                </div>
                <div class="scroll-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Partner</th>
                                <th>Bankruptcy</th>
                                <th>Closely Held</th>
                                <th>Credit Unions</th>
                                <th>Franchise</th>
                                <th>Government</th>
                                <th>High Net Worth</th>
                                <th>Individuals</th>
                                <th>International</th>
                                <th>Not For Profit</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="expandable-row" onclick="toggleRow(this)">
                                <td>Amanda Schlank</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>$51,839</td>
                                <td>-</td>
                                <td>$442</td>
                                <td><strong>$52,281</strong></td>
                            </tr>
                            <tr class="sub-row">
                                <td colspan="11">Q1: $12,570 | Q2: $13,540 | Q3: $13,171 | Q4 (Projected): $13,000</td>
                            </tr>
                            <tr class="expandable-row" onclick="toggleRow(this)">
                                <td>Andrea Link</td>
                                <td>-</td>
                                <td>$59,863</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>$51,839</td>
                                <td>-</td>
                                <td>$189</td>
                                <td><strong>$111,891</strong></td>
                            </tr>
                            <tr class="sub-row">
                                <td colspan="11">Q1: $27,972 | Q2: $28,450 | Q3: $27,969 | Q4 (Projected): $27,500</td>
                            </tr>
                            <tr class="expandable-row" onclick="toggleRow(this)">
                                <td>Andrea Roschke</td>
                                <td>-</td>
                                <td>$74,439</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>$31,055</td>
                                <td>-</td>
                                <td>-</td>
                                <td>$1,525</td>
                                <td><strong>$107,019</strong></td>
                            </tr>
                            <tr class="sub-row">
                                <td colspan="11">Q1: $26,754 | Q2: $27,200 | Q3: $26,565 | Q4 (Projected): $26,500</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Partner Billings by Industry -->
            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">Partner Billings by Industry</h2>
                    <div class="section-actions">
                        <button class="btn">Filter</button>
                        <button class="btn">Export</button>
                    </div>
                </div>
                <div class="scroll-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Partner</th>
                                <th>Agriculture</th>
                                <th>Mining</th>
                                <th>Utilities</th>
                                <th>Construction</th>
                                <th>Manufacturing</th>
                                <th>Wholesale</th>
                                <th>Retail</th>
                                <th>Transportation</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Amanda Schlank</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>$1,950</td>
                                <td>$3,000</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td><strong>$4,950</strong></td>
                            </tr>
                            <tr>
                                <td>Andrea Link</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td><strong>$0</strong></td>
                            </tr>
                            <tr>
                                <td>Andrea Roschke</td>
                                <td>$4,370</td>
                                <td>-</td>
                                <td>-</td>
                                <td>$9,385</td>
                                <td>$6,700</td>
                                <td>-</td>
                                <td>$4,520</td>
                                <td>-</td>
                                <td><strong>$24,975</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Job Profitability Tab -->
        <div id="job-profitability" class="tab-content">
            <div class="detail-grid">
                <div class="summary-panel">
                    <h3 class="section-title">Performance Summary</h3>
                    <div class="summary-item">
                        <span class="summary-label">Total Revenue</span>
                        <span class="summary-value">$13.92M</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Standard Cost</span>
                        <span class="summary-value">$3.65M</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Gross Profit</span>
                        <span class="summary-value metric-badge positive">$10.27M (73.8%)</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Markdowns</span>
                        <span class="summary-value metric-badge negative">$5.22M</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Net Revenue</span>
                        <span class="summary-value">$8.70M</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Realization %</span>
                        <span class="summary-value">62.5%</span>
                    </div>
                </div>

                <div class="data-section">
                    <div class="section-header">
                        <h2 class="section-title">Partner Performance Details</h2>
                        <div class="section-actions">
                            <button class="btn">View by Client</button>
                            <button class="btn primary">Detailed Report</button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Partner</th>
                                <th>Billings</th>
                                <th>Hours</th>
                                <th>Production</th>
                                <th>Markdowns</th>
                                <th>Net Revenue</th>
                                <th>Realization</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Amanda Schlank</td>
                                <td>$27,942</td>
                                <td>234</td>
                                <td>$83,955</td>
                                <td class="metric-badge negative">-$67,270</td>
                                <td>$16,685</td>
                                <td class="metric-badge negative">19.9%</td>
                            </tr>
                            <tr>
                                <td>Andrea Link</td>
                                <td>$112,333</td>
                                <td>744</td>
                                <td>$226,931</td>
                                <td class="metric-badge negative">-$95,535</td>
                                <td>$131,396</td>
                                <td class="metric-badge positive">57.9%</td>
                            </tr>
                            <tr>
                                <td>Andrea Roschke</td>
                                <td>$107,019</td>
                                <td>386</td>
                                <td>$134,482</td>
                                <td class="metric-badge negative">-$43,268</td>
                                <td>$91,214</td>
                                <td class="metric-badge positive">67.8%</td>
                            </tr>
                            <tr>
                                <td>Bill Osborn</td>
                                <td>$85,811</td>
                                <td>1,542</td>
                                <td>$543,556</td>
                                <td class="metric-badge negative">-$60,113</td>
                                <td>$483,443</td>
                                <td class="metric-badge positive">88.9%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Partners Book Tab -->
        <div id="partners-book" class="tab-content">
            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">Book Summary by Service Line</h2>
                    <div class="section-actions">
                        <button class="btn">Summary View</button>
                        <button class="btn primary">Client Detail</button>
                    </div>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Book Hrs</th>
                            <th>Production</th>
                            <th>Markdowns</th>
                            <th>Realization %</th>
                            <th>Standard Cost</th>
                            <th>Gross Profit</th>
                            <th>GP %</th>
                            <th>Revenue Standard</th>
                            <th>GP Standard</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="expandable-row" onclick="toggleRow(this)">
                            <td><strong>Assurance & Advisory</strong></td>
                            <td>234</td>
                            <td>$83,956</td>
                            <td class="metric-badge negative">-$2,014K</td>
                            <td>2399%</td>
                            <td>$18,258</td>
                            <td>-$2,032K</td>
                            <td>101%</td>
                            <td>$38,325K</td>
                            <td>$21,900K</td>
                        </tr>
                        <tr class="sub-row">
                            <td>Greater Los Angeles</td>
                            <td>234</td>
                            <td>$83,956</td>
                            <td>-$818K</td>
                            <td>975%</td>
                            <td>$18,258</td>
                            <td>-$837K</td>
                            <td>102%</td>
                            <td>$21,000K</td>
                            <td>$12,000K</td>
                        </tr>
                        <tr class="sub-row">
                            <td>Northern California</td>
                            <td>0</td>
                            <td>$0</td>
                            <td>-$177K</td>
                            <td>0%</td>
                            <td>$0</td>
                            <td>-$177K</td>
                            <td>100%</td>
                            <td>$4,200K</td>
                            <td>$2,400K</td>
                        </tr>
                        <tr class="expandable-row" onclick="toggleRow(this)">
                            <td><strong>Tax</strong></td>
                            <td>234</td>
                            <td>$83,956</td>
                            <td class="metric-badge negative">-$3,018K</td>
                            <td>0%</td>
                            <td>$18,258</td>
                            <td>-$3,018K</td>
                            <td>100%</td>
                            <td>$79,613K</td>
                            <td>$57,900K</td>
                        </tr>
                        <tr class="sub-row">
                            <td>Greater Los Angeles</td>
                            <td>234</td>
                            <td>$83,956</td>
                            <td>-$1,047K</td>
                            <td>0%</td>
                            <td>$18,258</td>
                            <td>-$1,047K</td>
                            <td>100%</td>
                            <td>$31,763K</td>
                            <td>$23,100K</td>
                        </tr>
                        <tr class="sub-row">
                            <td>Northern California</td>
                            <td>0</td>
                            <td>$0</td>
                            <td>-$524K</td>
                            <td>0%</td>
                            <td>$0</td>
                            <td>-$524K</td>
                            <td>100%</td>
                            <td>$16,500K</td>
                            <td>$12,000K</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Utilization & Allocation Tab -->
        <div id="utilization" class="tab-content">
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-label">Department Allocation</div>
                    <div class="kpi-value">40,418</div>
                    <div class="kpi-subtitle">Total Charge Hours</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Production Value</div>
                    <div class="kpi-value">$13.92M</div>
                    <div class="kpi-subtitle">Before Write-offs</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Standard Cost</div>
                    <div class="kpi-value">$3.65M</div>
                    <div class="kpi-subtitle">Total Labor Cost</div>
                </div>
            </div>

            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">Departmental Resource Allocation</h2>
                    <div class="section-actions">
                        <button class="btn">By Employee</button>
                        <button class="btn">By Level</button>
                        <button class="btn primary">Export</button>
                    </div>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Department</th>
                            <th>Chg Hours</th>
                            <th>Production</th>
                            <th>Standard Cost</th>
                            <th>Margin</th>
                            <th>Utilization</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Home - Belloti Tax</td>
                            <td>920</td>
                            <td>$321,396</td>
                            <td>$112,000</td>
                            <td class="metric-badge positive">65.1%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78%;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Home - Biz Mgmnt</td>
                            <td>596</td>
                            <td>$187,399</td>
                            <td>$42,000</td>
                            <td class="metric-badge positive">77.6%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 65%;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Home - BRM A&A</td>
                            <td>303</td>
                            <td>$119,646</td>
                            <td>$21,000</td>
                            <td class="metric-badge positive">82.4%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Home - BRM Tax</td>
                            <td>974</td>
                            <td>$370,272</td>
                            <td>$75,000</td>
                            <td class="metric-badge positive">79.7%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 82%;"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="chart-grid">
                <div class="chart-container">
                    <h3 class="section-title">Utilization by Department</h3>
                    <div class="chart-placeholder">
                        [Department Utilization Chart]
                    </div>
                </div>
                <div class="chart-container">
                    <h3 class="section-title">Resource Allocation Trend</h3>
                    <div class="chart-placeholder">
                        [Monthly Trend Chart]
                    </div>
                </div>
            </div>
        </div>

        <!-- Markdowns Tab -->
        <div id="markdowns" class="tab-content">
            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">Markdown Analysis - January 2025 YTD</h2>
                    <div class="section-actions">
                        <button class="btn">By Partner</button>
                        <button class="btn">By Client</button>
                        <button class="btn primary">Export Report</button>
                    </div>
                </div>

                <div class="kpi-grid" style="margin-bottom: 20px;">
                    <div class="kpi-card">
                        <div class="kpi-label">Total Markdowns</div>
                        <div class="kpi-value metric-badge negative">$5.49M</div>
                        <div class="kpi-subtitle">YTD Amount</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Total Production</div>
                        <div class="kpi-value">$10.86M</div>
                        <div class="kpi-subtitle">Before Write-offs</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Write-off Rate</div>
                        <div class="kpi-value metric-badge negative">50.5%</div>
                        <div class="kpi-subtitle">Average</div>
                    </div>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Partner</th>
                            <th>Write-Off Amount</th>
                            <th>Production</th>
                            <th>Write-Off %</th>
                            <th>Top Client Impact</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Bill Osborn</td>
                            <td class="metric-badge negative">-$683,854</td>
                            <td>$1,250,000</td>
                            <td class="metric-badge negative">54.7%</td>
                            <td>PGM3031899 - Aspire</td>
                        </tr>
                        <tr>
                            <td>Andrea Link</td>
                            <td class="metric-badge negative">-$185,309</td>
                            <td>$450,000</td>
                            <td class="metric-badge negative">41.2%</td>
                            <td>PGM3005823 - Wondery</td>
                        </tr>
                        <tr>
                            <td>Amanda Schlank</td>
                            <td class="metric-badge negative">-$83,682</td>
                            <td>$320,000</td>
                            <td class="metric-badge neutral">26.2%</td>
                            <td>PGM3029869 - Teamsters</td>
                        </tr>
                        <tr>
                            <td>Andrea Roschke</td>
                            <td class="metric-badge negative">-$84,020</td>
                            <td>$285,000</td>
                            <td class="metric-badge neutral">29.5%</td>
                            <td>PGM3029881 - Local 142</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="chart-container">
                <h3 class="section-title">Top 10 Client Write-offs</h3>
                <div class="chart-placeholder" style="height: 400px;">
                    [Bar Chart showing: Aspire $175K | Wondery $131K | Teamsters $128K | Local 142 $128K | Operative $127K | Hotel & Restaurant $120K | Hawaii Tapers $115K | Masons $108K | Moldex $107K | Hawaii Insulation $102K]
                </div>
            </div>
        </div>

        <!-- Revenue Analysis Tab -->
        <div id="revenue-analysis" class="tab-content">
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-label">Charge Hours</div>
                    <div class="kpi-value">40.42K</div>
                    <div class="kpi-subtitle">Total Hours Charged</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Production</div>
                    <div class="kpi-value">$13.92M</div>
                    <div class="kpi-subtitle">Gross Revenue</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Standard Cost</div>
                    <div class="kpi-value">$3.65M</div>
                    <div class="kpi-subtitle">Labor Cost</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Markdowns</div>
                    <div class="kpi-value metric-badge negative">$5.22M</div>
                    <div class="kpi-subtitle">Total Write-offs</div>
                </div>
            </div>

            <div class="detail-grid">
                <div class="data-section">
                    <div class="section-header">
                        <h2 class="section-title">Summary by Partner</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Partner</th>
                                <th>Billings</th>
                                <th>Hours</th>
                                <th>Net Revenue</th>
                                <th>Realization</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Amanda Schlank</td>
                                <td>$27,942</td>
                                <td>234</td>
                                <td>$16,857</td>
                                <td class="metric-badge negative">19.9%</td>
                            </tr>
                            <tr>
                                <td>Andrea Link</td>
                                <td>$112,333</td>
                                <td>744</td>
                                <td>$73,212</td>
                                <td class="metric-badge positive">57.9%</td>
                            </tr>
                            <tr>
                                <td>Andrea Roschke</td>
                                <td>$107,018</td>
                                <td>386</td>
                                <td>$65,643</td>
                                <td class="metric-badge positive">67.8%</td>
                            </tr>
                            <tr>
                                <td>Bill Osborn</td>
                                <td>$85,811</td>
                                <td>1,542</td>
                                <td>$315,619</td>
                                <td class="metric-badge positive">88.9%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="data-section">
                    <div class="section-header">
                        <h2 class="section-title">Summary by Level</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Staff Level</th>
                                <th>Hours</th>
                                <th>Production</th>
                                <th>% of Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Director</td>
                                <td>2,354</td>
                                <td>$1,334K</td>
                                <td class="metric-badge neutral">5.82%</td>
                            </tr>
                            <tr>
                                <td>Experienced Staff</td>
                                <td>3,910</td>
                                <td>$929K</td>
                                <td class="metric-badge neutral">9.68%</td>
                            </tr>
                            <tr>
                                <td>Contractor</td>
                                <td>405</td>
                                <td>$73K</td>
                                <td class="metric-badge neutral">1.00%</td>
                            </tr>
                            <tr>
                                <td>FS</td>
                                <td>30</td>
                                <td>$17K</td>
                                <td class="metric-badge neutral">0.07%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function toggleRow(row) {
            row.classList.toggle('expanded');
            let nextRow = row.nextElementSibling;
            while (nextRow && nextRow.classList.contains('sub-row')) {
                nextRow.classList.toggle('show');
                nextRow = nextRow.nextElementSibling;
            }
        }

        // Initialize tooltips and other interactive elements
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to data cells
            const dataCells = document.querySelectorAll('.data-table td');
            dataCells.forEach(cell => {
                if (cell.textContent.includes('$') || cell.textContent.includes('%')) {
                    cell.style.cursor = 'pointer';
                    cell.title = 'Click for details';
                }
            });

            // Animate KPI values on load
            const kpiValues = document.querySelectorAll('.kpi-value');
            kpiValues.forEach((value, index) => {
                setTimeout(() => {
                    value.style.animation = 'fadeIn 0.5s ease';
                }, index * 100);
            });

            // Add smooth scrolling for large tables
            const scrollContainers = document.querySelectorAll('.scroll-container');
            scrollContainers.forEach(container => {
                container.addEventListener('wheel', (e) => {
                    if (e.deltaY !== 0) {
                        e.preventDefault();
                        container.scrollLeft += e.deltaY;
                    }
                });
            });
        });

        // Filter functionality
        document.querySelectorAll('.filter-select').forEach(select => {
            select.addEventListener('change', function() {
                console.log(`Filter changed: ${this.previousElementSibling.textContent} = ${this.value}`);
                // This would trigger data refresh in actual implementation
            });
        });

        // Export functionality placeholder
        document.querySelectorAll('.btn').forEach(btn => {
            if (btn.textContent === 'Export') {
                btn.addEventListener('click', function() {
                    console.log('Export functionality would be triggered here');
                });
            }
        });
    </script>
</body>
</html>